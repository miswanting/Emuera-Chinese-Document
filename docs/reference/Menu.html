<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>§0 文档说明 | Emuera 中文文档</title>
    <meta name="description" content="Emuera 中文文档">
    <link rel="stylesheet" href="/Emuera-Chinese-Document/assets/style.cac40d77.css">
    <link rel="modulepreload" href="/Emuera-Chinese-Document/assets/Home.76da6700.js">
    <link rel="modulepreload" href="/Emuera-Chinese-Document/assets/app.c45c263d.js">
    <link rel="modulepreload" href="/Emuera-Chinese-Document/assets/reference_Menu.md.ef4c3980.lean.js">
    <link rel="modulepreload" href="/Emuera-Chinese-Document/assets/app.c45c263d.js">
    <meta name="twitter:title" content="§0 文档说明 | Emuera 中文文档">
    <meta property="og:title" content="§0 文档说明 | Emuera 中文文档">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/Emuera-Chinese-Document/" aria-label="Emuera 中文文档, back to home" data-v-675d8756 data-v-4a583abe><!----> Emuera 中文文档</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/guide/" data-v-b8818f8c>指南 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/reference/" data-v-b8818f8c>参考 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/translation/" data-v-b8818f8c>翻译 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/development/" data-v-b8818f8c>开发 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/guide/" data-v-b8818f8c>指南 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/reference/" data-v-b8818f8c>参考 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/translation/" data-v-b8818f8c>翻译 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/Emuera-Chinese-Document/development/" data-v-b8818f8c>开发 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#§1-1-csv文件格式-csv-file-format">§1.1 CSV文件格式 CSV file format</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#基本信息">基本信息</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#每个文件的格式">每个文件的格式</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#须知">须知</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#§1-2-erb文件格式-erb-file-format">§1.2 ERB文件格式 ERB file format</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#基本信息-1">基本信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#变量与命令">变量与命令</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#§1-3-erabasic的结构-structure-of-erabasic">§1.3 EraBasic的结构 Structure of EraBasic</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#基本信息-2">基本信息</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#§1-4-erabasic变量列表-list-of-erabasic-variables">§1.4 EraBasic变量列表 List of EraBasic variables</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#基本变量">基本变量</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#角色注册编号">角色注册编号</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#关于污渍">关于污渍</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#eramaker">EraMaker</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#erabasic-的结构">[EraBasic 的结构]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#csv-文件语法">[CSV 文件语法]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#erb-文件语法">[ERB 文件语法]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#erabasic-变量列表">[EraBasic 变量列表]()</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#emuera">Emuera</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#词汇表">[词汇表]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#调试命令">[调试命令]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#调试模式">[调试模式]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#replace-csv">[_replace.csv]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#配置文件">[配置文件]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#运行流程">[运行流程]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#与eramaker的不同点">[与EraMaker的不同点]()</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#emuera新增的语法">Emuera新增的语法</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 align="center">Emuera 中文文档（第一版）</h1><h3 align="center">目录</h3><ul><li><a href="./.html">§0</a> 文档说明</li><li><a href="#1-eraMaker%E4%B9%8B%E7%AB%A0-chapter-of-eramaker">§1</a> EraMaker之章 <code>Chapter of EraMaker</code><ul><li><a href="./.html">§1.1</a> CSV文件格式 <code>CSV file format</code> <a href="http://cbaku.com/b/erakanon/eramacsv.html" target="_blank" rel="noopener noreferrer">CSVファイル書式</a></li><li><a href="./.html">§1.2</a> ERB文件格式 <code>ERB file format</code> <a href="http://cbaku.com/b/erakanon/eramaerb.html" target="_blank" rel="noopener noreferrer">ERBファイル書式</a></li><li><a href="./.html">§1.3</a> EraBasic的结构 <code>Structure of EraBasic</code> <a href="http://cbaku.com/b/erakanon/eramaerc.html" target="_blank" rel="noopener noreferrer">era basicの構造</a></li><li><a href="./.html">§1.4</a> EraBasic变量列表 <code>List of EraBasic variables</code> <a href="http://cbaku.com/b/erakanon/eramavar.html" target="_blank" rel="noopener noreferrer">era basic変数リスト</a></li></ul></li><li><a href="./.html">§2</a> Emuera之章 <code>Chapter of Emuera</code><ul><li><a href="./.html">§2.1</a> 术语表 Glossary <a href="https://osdn.net/projects/emuera/wiki/EmuDic" target="_blank" rel="noopener noreferrer">用語集</a></li><li><a href="./.html">§2.2</a> 调试命令 Debugging commands <a href="https://osdn.net/projects/emuera/wiki/debugcom" target="_blank" rel="noopener noreferrer">デバッグコマンド</a></li><li><a href="./.html">§2.3</a> 调试模式 Debugging mode <a href="https://osdn.net/projects/emuera/wiki/debug" target="_blank" rel="noopener noreferrer">デバッグモード</a></li><li><a href="./.html">§2.4</a> <code>_replace.csv</code> <a href="https://osdn.net/projects/emuera/wiki/replace" target="_blank" rel="noopener noreferrer">_replace.csv</a></li><li><a href="./.html">§2.5</a> 强制配置项目 Force configurations <a href="https://osdn.net/projects/emuera/wiki/exconfig" target="_blank" rel="noopener noreferrer">コンフィグ項目の強制</a></li><li><a href="./.html">§2.6</a> 流程图 Flow diagram <a href="https://osdn.net/projects/emuera/wiki/flow" target="_blank" rel="noopener noreferrer">フロー図</a></li><li><a href="./.html">§2.7</a> 与EraMaker的差异 Differences from EraMaker <a href="https://osdn.net/projects/emuera/wiki/diff" target="_blank" rel="noopener noreferrer">eramakerとの相違点</a></li><li><a href="./.html">§2.8</a> 在Emuera中增加的扩展语法 New syntax for Emuera <a href="https://osdn.net/projects/emuera/wiki/extended" target="_blank" rel="noopener noreferrer">Emueraで追加された拡張文法</a><ul><li><a href="./.html">§2.8.1</a> 常规 General <a href="https://osdn.net/projects/emuera/wiki/exetc" target="_blank" rel="noopener noreferrer">一般</a></li><li><a href="./.html">§2.8.2</a> 运算符 Operators <a href="https://osdn.net/projects/emuera/wiki/exop" target="_blank" rel="noopener noreferrer">演算</a></li><li><a href="./.html">§2.8.3</a> 常量与变量 Constants and Variables <a href="https://osdn.net/projects/emuera/wiki/exvar" target="_blank" rel="noopener noreferrer">定数・変数</a></li><li><a href="./.html">§2.8.4</a> 用户自定义变量 User Defined Variables <a href="https://osdn.net/projects/emuera/wiki/UserVars" target="_blank" rel="noopener noreferrer">ユーザー定義の変数</a></li><li><a href="./.html">§2.8.5</a> 命令 Commands <a href="https://osdn.net/projects/emuera/wiki/excom" target="_blank" rel="noopener noreferrer">命令</a></li><li><a href="./.html">§2.8.6</a> 函数与预处理器 Functions and Preprocessors <a href="https://osdn.net/projects/emuera/wiki/exfunc" target="_blank" rel="noopener noreferrer">関数・プリプロセッサ</a></li><li><a href="./.html">§2.8.7</a> 表达式函数 Functions for Expression <a href="https://osdn.net/projects/emuera/wiki/exmeth" target="_blank" rel="noopener noreferrer">式中で使える関数</a></li><li><a href="./.html">§2.8.8</a> 用户自定义的表达式内函数 User-defined intra-expression functions <a href="https://osdn.net/projects/emuera/wiki/UserMeth" target="_blank" rel="noopener noreferrer">ユーザー定義の式中関数</a></li><li><a href="./.html">§2.8.9</a> 头文件 Header files <a href="https://osdn.net/projects/emuera/wiki/ERH" target="_blank" rel="noopener noreferrer">ヘッダーファイル（ERH）</a></li><li><a href="./.html">§2.8.10</a> HTML_PRINT相关 HTML_PRINT related <a href="https://osdn.net/projects/emuera/wiki/exhtml" target="_blank" rel="noopener noreferrer">HTML_PRINT関連</a></li><li><a href="./.html">§2.8.11</a> 资源 Resources <a href="https://osdn.net/projects/emuera/wiki/resources" target="_blank" rel="noopener noreferrer">リソースファイル</a></li></ul></li></ul></li></ul><h1 id="§0-文档说明" tabindex="-1">§0 文档说明 <a class="header-anchor" href="#§0-文档说明" aria-hidden="true">#</a></h1><ul><li>文档中涉及到的名称都进行了规范，统统采用帕斯卡命名法（大驼峰式命名法），即： <ul><li><code>era light</code> → <code>EraLight</code></li><li><code>erakanon</code> → <code>EraKanon</code></li><li><code>era basic</code> → <code>EraBasic</code></li></ul></li><li>出于对该游戏引擎使用场景的特殊性的考虑，文档中的一些敏感词语会进行相应的脱敏处理。一些内容意会就好。如“训练”等。</li><li>第一版文档脱胎于对日语原文档的翻译，且采用的是意译的路径。也会涉及到大量的对示例代码等内容的改造。因此请不要苛求翻译的精确度。</li></ul><h1 id="§1-eramaker之章-chapter-of-eramaker" tabindex="-1">§1 EraMaker之章 Chapter of EraMaker <a class="header-anchor" href="#§1-eramaker之章-chapter-of-eramaker" aria-hidden="true">#</a></h1><p>单纯地阅读文档有时可能难以理解，建议结合示例项目（指<a href="http://cbaku2.sakura.ne.jp/b/eralight/eralight.lzh" target="_blank" rel="noopener noreferrer">EraLight</a>），辅助学习。原文每章都有这条注释，下面不再翻译。</p><div align="right"><a href="#§1 EraMaker之章 Chapter of EraMaker">§</a> <a href="#Emuera 中文文档（第一版）">TOP</a></div><h2 id="§1-1-csv文件格式-csv-file-format" tabindex="-1">§1.1 CSV文件格式 CSV file format <a class="header-anchor" href="#§1-1-csv文件格式-csv-file-format" aria-hidden="true">#</a></h2><blockquote><p><a href="http://cbaku.com/b/erakanon/eramacsv.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramacsv.html</a></p></blockquote><h3 id="基本信息" tabindex="-1">基本信息 <a class="header-anchor" href="#基本信息" aria-hidden="true">#</a></h3><h4 id="关于csv文件" tabindex="-1">关于CSV文件 <a class="header-anchor" href="#关于csv文件" aria-hidden="true">#</a></h4><p>在<code>eramaker.exe</code>旁直接创建一个名为<code>CSV</code>的文件夹。 CSV文件包含以下项目：</p><table><thead><tr><th style="text-align:left;">文件名称</th><th>文件说明</th></tr></thead><tbody><tr><td style="text-align:left;">GameBase.csv</td><td>注册游戏的基本数据。</td></tr><tr><td style="text-align:left;">Palam.csv</td><td>注册训练时的参数（快乐C、痛苦、反感等）。</td></tr><tr><td style="text-align:left;">Abl.csv</td><td>注册你的能力(V感、仆从心、受虐狂等)。</td></tr><tr><td style="text-align:left;">Talent.csv</td><td>注册品质（懦弱、自制、快速恢复等）。</td></tr><tr><td style="text-align:left;">Mark.csv</td><td>注册你的印记（快乐印记、羞辱印记等）。</td></tr><tr><td style="text-align:left;">Exp.csv</td><td>注册你的经历（V经历、手淫经历等）。</td></tr><tr><td style="text-align:left;">Train.csv</td><td>注册训练命令（舔阴、口交、鞭子等）。</td></tr><tr><td style="text-align:left;">Item.csv</td><td>注册物品（振动器、针等）。</td></tr><tr><td style="text-align:left;">Str.csv</td><td>注册各种句子，以便在游戏中使用。</td></tr><tr><td style="text-align:left;">CharaXX.csv</td><td>注册你的角色的初始数据，从Chara00.csv到Chara99.csv。</td></tr></tbody></table><h4 id="如何编写csv文件" tabindex="-1">如何编写CSV文件 <a class="header-anchor" href="#如何编写csv文件" aria-hidden="true">#</a></h4><p>在所有的CSV文件中，</p><ul><li>如果第一列中的第一个字符是半角分号<code>;</code>，则该行将被忽略。空行也会被忽略。</li></ul><p>如：</p><div class="language-csv"><pre><code><span class="token value">;体力和精神力的设置</span>
<span class="token value">基本</span><span class="token punctuation">,</span><span class="token value">0</span><span class="token punctuation">,</span><span class="token value">2000</span>
<span class="token value">基本</span><span class="token punctuation">,</span><span class="token value">1</span><span class="token punctuation">,</span><span class="token value">000</span>

<span class="token value">;能力的设定</span>
<span class="token value">能力</span><span class="token punctuation">,</span><span class="token value">0</span><span class="token punctuation">,</span><span class="token value">2</span>
</code></pre></div><ul><li>输入数字时请使用半角字符。</li></ul><p>正确：</p><div class="language-csv"><pre><code><span class="token value">121</span><span class="token punctuation">,</span><span class="token value">Futa</span>
</code></pre></div><p>错误：</p><div class="language-csv"><pre><code><span class="token value">１２１</span><span class="token punctuation">,</span><span class="token value">Futa</span>
</code></pre></div><ul><li>如果你用&quot;&quot;包住字符串，它就不能正常工作，OpenOffice和其他程序似乎默认就有这个特性。</li></ul><p>正确：</p><div class="language-csv"><pre><code><span class="token value">0</span><span class="token punctuation">,</span><span class="token value">服从</span>
<span class="token value">1</span><span class="token punctuation">,</span><span class="token value">欲望</span>
<span class="token value">2</span><span class="token punctuation">,</span><span class="token value">技能</span>
</code></pre></div><p>错误：</p><div class="language-csv"><pre><code><span class="token value">0</span><span class="token punctuation">,</span><span class="token value">&quot;服从&quot;</span>
<span class="token value">1</span><span class="token punctuation">,</span><span class="token value">&quot;欲望&quot;</span>
<span class="token value">2</span><span class="token punctuation">,</span><span class="token value">&quot;技能&quot;</span>
</code></pre></div><p>设置方法请参考您的电子表格软件的帮助。</p><h2 id="每个文件的格式" tabindex="-1">每个文件的格式 <a class="header-anchor" href="#每个文件的格式" aria-hidden="true">#</a></h2><h4 id="gamebase-csv的格式" tabindex="-1">GameBase.csv的格式 <a class="header-anchor" href="#gamebase-csv的格式" aria-hidden="true">#</a></h4><p>在第一列中写入指令，在第二列和后续列中写入数据。</p><h5 id="コード-数值-：游戏代号code" tabindex="-1"><code>コード</code>,(数值)：游戏代号Code <a class="header-anchor" href="#コード-数值-：游戏代号code" aria-hidden="true">#</a></h5><p>设置代表游戏的代号，用来防止意外加载其他游戏的保存数据。可以设置是你喜欢的任何数值。</p><h5 id="バージョン-数值-：版本version" tabindex="-1"><code>バージョン</code>,(数值)：版本Version <a class="header-anchor" href="#バージョン-数值-：版本version" aria-hidden="true">#</a></h5><p>将游戏的版本设置为（号）。 画面上显示（数字）除以1000（0.10代表100）。初始化时，保存在不同版本中的数据将不会被加载。</p><h5 id="タイトル-字符串-：标题title" tabindex="-1"><code>タイトル</code>,[字符串]：标题Title <a class="header-anchor" href="#タイトル-字符串-：标题title" aria-hidden="true">#</a></h5><p>将游戏的标题设置为（字符串）。 它将在启动时显示。</p><h5 id="作者-字符串-：作者" tabindex="-1"><code>作者</code>,[字符串]：作者 <a class="header-anchor" href="#作者-字符串-：作者" aria-hidden="true">#</a></h5><p>将游戏的作者设置为（字符串）。 它将在启动时显示。</p><h5 id="製作年-字符串-：制作年份" tabindex="-1"><code>製作年</code>,[字符串]：制作年份 <a class="header-anchor" href="#製作年-字符串-：制作年份" aria-hidden="true">#</a></h5><p>设置游戏制作年份为（字符串）。 它将在启动时显示。 它不是一个数字，所以可以写成2005-2006年。</p><h5 id="追加情報-字符串-：附加信息" tabindex="-1"><code>追加情報</code>,[字符串]：附加信息 <a class="header-anchor" href="#追加情報-字符串-：附加信息" aria-hidden="true">#</a></h5><p>将游戏的附加信息设置为（字符串）。 此信息将在启动时显示。</p><h5 id="最初からいるキャラ-数值-：从最初开始就存在的角色" tabindex="-1"><code>最初からいるキャラ</code>,(数值)：从最初开始就存在的角色 <a class="header-anchor" href="#最初からいるキャラ-数值-：从最初开始就存在的角色" aria-hidden="true">#</a></h5><p>在游戏开始时设置要训练的角色。 (数字)是一个字符号。 例如，1表示Chara01.csv，12表示Chara12.csv。</p><h5 id="アイテムなし-数値" tabindex="-1"><code>アイテムなし</code>,(数値) <a class="header-anchor" href="#アイテムなし-数値" aria-hidden="true">#</a></h5><p>如果将(数字)设置为1，则可以不用物品进行训练，即使训练时需要物品，如振动棒等。 当你做一个没有物品概念的游戏时，将其设置为1。</p><h5 id="バージョン違い認める-数値" tabindex="-1"><code>バージョン違い認める</code>,(数値) <a class="header-anchor" href="#バージョン違い認める-数値" aria-hidden="true">#</a></h5><p>如果保存数据的版本大于或等于(数)，即使版本不同，也可以读取。 如果你有一个不影响整个版本的升级，就设置这个。</p><p>如：</p><div class="language-csv"><pre><code><span class="token value">;读取1.20版本后的保存数据。</span>
<span class="token value">バージョン違い認める</span><span class="token punctuation">,</span><span class="token value">1200</span>
</code></pre></div><h4 id="palam-csv的格式" tabindex="-1">Palam.csv的格式 <a class="header-anchor" href="#palam-csv的格式" aria-hidden="true">#</a></h4><ul><li>参数编号写在第一栏，参数名称写在第二栏。</li><li>参数编号从0开始，建议不要设置空号。</li><li>参数号最大为99。</li></ul><h4 id="abl-csv的格式" tabindex="-1">Abl.csv的格式 <a class="header-anchor" href="#abl-csv的格式" aria-hidden="true">#</a></h4><ul><li>在第一栏写上能力编号，在第二栏写上能力名称。</li><li>建议能力号的数字从0开始，不要有空号。</li><li>能力的最大数量是99。</li></ul><h4 id="talent-csv的格式" tabindex="-1">Talent.csv的格式 <a class="header-anchor" href="#talent-csv的格式" aria-hidden="true">#</a></h4><ul><li>在第一栏写上特征编号，第二栏写上特征名称。</li><li>也可以做一个空号。</li><li>最小数是0，最大数是99。</li></ul><h4 id="mark-csv的格式" tabindex="-1">Mark.csv的格式 <a class="header-anchor" href="#mark-csv的格式" aria-hidden="true">#</a></h4><ul><li>在第一栏中写上印号，在第二栏中写上印名。</li><li>建议从0开始，不要做空号。</li><li>最大印数为99。</li></ul><h4 id="exp-csv的格式" tabindex="-1">Exp.csv的格式 <a class="header-anchor" href="#exp-csv的格式" aria-hidden="true">#</a></h4><ul><li>第一栏写经验号，第二栏写经验名称。</li><li>你也可以做一个空号。</li><li>最低经验数为0，最高经验数为99。</li></ul><h4 id="train-csv的格式" tabindex="-1">Train.csv的格式 <a class="header-anchor" href="#train-csv的格式" aria-hidden="true">#</a></h4><ul><li>命令编号写在第一栏，命令名称写在第二栏。</li><li>你也可以做一个空号。</li><li>命令号最小为0，最大为99。</li></ul><h4 id="item-csv的格式" tabindex="-1">Item.csv的格式 <a class="header-anchor" href="#item-csv的格式" aria-hidden="true">#</a></h4><ul><li>第一栏写商品编号，第二栏写商品名称，第三栏写商品价格。</li><li>你也可以创建一个空号。</li><li>最小项目数为0，最大为99。</li></ul><h4 id="str-csv的格式" tabindex="-1">Str.csv的格式 <a class="header-anchor" href="#str-csv的格式" aria-hidden="true">#</a></h4><ul><li>第一栏写的是字符串编号，第二栏写的是字符串。</li><li>绳子的长度没有限制。</li><li>字符串的长度不受限制，可以用空数。</li><li>最小字符串数为0，最大为19999。</li></ul><h4 id="charaxx-csv的格式" tabindex="-1">CharaXX.csv的格式 <a class="header-anchor" href="#charaxx-csv的格式" aria-hidden="true">#</a></h4><h5 id="番号-数值" tabindex="-1"><code>番号</code>,[数值] <a class="header-anchor" href="#番号-数值" aria-hidden="true">#</a></h5><p>将字符编号设置为（编号）。 这在创建字符之间的兼容性、同一字符的特殊版本等时非常重要。</p><h5 id="名前-字符串" tabindex="-1"><code>名前</code>,[字符串] <a class="header-anchor" href="#名前-字符串" aria-hidden="true">#</a></h5><p>将字符的名称设置为（字符串）。 字符串的长度没有限制，但如果太长，可能会导致显示失真。</p><h5 id="呼び名-字符串" tabindex="-1"><code>呼び名</code>,[字符串] <a class="header-anchor" href="#呼び名-字符串" aria-hidden="true">#</a></h5><p>将角色的昵称设置为（字符串）。 让我们用在有外号的人物身上。 对字符串的长度没有限制，但如果太长，可能会导致显示失真。</p><h5 id="基礎-数值1-数值2" tabindex="-1"><code>基礎</code>,[数值1],[数值2] <a class="header-anchor" href="#基礎-数值1-数值2" aria-hidden="true">#</a></h5><p>将字符基本参数中的（数值1）秒设置为（数值2）。 在样本游戏中，第0个参数是强度，第1个参数是能量，第2个参数是射精仪。 数字1）最低为0，最高为99。</p><p>如：</p><div class="language-csv"><pre><code><span class="token value">;体力是2000，能量是1000。</span>
<span class="token value">基礎</span><span class="token punctuation">,</span><span class="token value">0</span><span class="token punctuation">,</span><span class="token value">2000</span>
<span class="token value">基礎</span><span class="token punctuation">,</span><span class="token value">1</span><span class="token punctuation">,</span><span class="token value">1000</span>
</code></pre></div><h5 id="能力-数值1-数值2" tabindex="-1"><code>能力</code>,[数值1],[数值2] <a class="header-anchor" href="#能力-数值1-数值2" aria-hidden="true">#</a></h5><p>将角色初始能力的（数字1）th设置为（数字2）。 请使用Abl.csv中指定的能力编号作为（编号1）。 (数字2)没有限制，但在样本游戏中，它被设置为0到5。</p><h5 id="素質-数值" tabindex="-1"><code>素質</code>,[数值] <a class="header-anchor" href="#素質-数值" aria-hidden="true">#</a></h5><p>将（数字）数字添加到你的角色特征中。 请使用Talent.csv中指定的特征号作为（编号）。</p><h5 id="経験-数值1-数值2" tabindex="-1"><code>経験</code>,[数值1],[数值2] <a class="header-anchor" href="#経験-数值1-数值2" aria-hidden="true">#</a></h5><p>将角色初始经验的（数字1）th设置为（数字2）。 请使用Exp.csv中指定的经验号（数值为1）。</p><h5 id="相性-数值1-数值2" tabindex="-1"><code>相性</code>,[数值1],[数值2] <a class="header-anchor" href="#相性-数值1-数值2" aria-hidden="true">#</a></h5><p>将（数字1）的字符的亲和力设置为（数字2）。 请使用您在CharaXX.csv中指定的字符号作为（数字1）。 (数字1)请使用您在CharaXX.csv中指定的字符数。100是(数字2)的标准值。</p><h5 id="助手-数值" tabindex="-1"><code>助手</code>,[数值] <a class="header-anchor" href="#助手-数值" aria-hidden="true">#</a></h5><p>(数值)设为1时，从初始状态开始作为助手处理。</p><h5 id="フラグ-数值1-数值2" tabindex="-1"><code>フラグ</code>,[数值1],[数值2] <a class="header-anchor" href="#フラグ-数值1-数值2" aria-hidden="true">#</a></h5><p>(数值1)th的字符标志被设置为(数值2)。 (数字1)的最小值是0，最大值是999。 角色旗帜可以根据游戏制作者的想法自由使用。 在样板游戏中，第0个标志为1的角色是 &quot;特殊角色&quot;。 (*称为标志，但可以是0和1以外的整数值)</p><h3 id="须知" tabindex="-1">须知 <a class="header-anchor" href="#须知" aria-hidden="true">#</a></h3><h5 id="关于str-csv中的-和" tabindex="-1">关于<code>Str.csv</code>中的<code>***</code>和<code>+++</code> <a class="header-anchor" href="#关于str-csv中的-和" aria-hidden="true">#</a></h5><p>在样本游戏EraLight的<code>Str.csv</code>中，有很多<code>***</code>和<code>+++</code>。 在游戏中，这些会分别转换为 <code>あかり</code>和<code>浩之ちゃん</code>。 要想完全理解这一点，需要掌握EraBasic的知识，但现在，你应该知道，<code>***</code>是你正在训练的角色的<strong>姓名</strong>，<code>+++</code>是主角的名字，<code>$$$</code>是你要培养的角色的<strong>昵称</strong>。 在示例游戏EraKanon中，有一个助手系统。 <code>///</code>是助手的名字，<code>===</code>是你当时训练的人的名字（主角或助手）。</p><div align="right"><a href="#§1.1 CSV文件格式 CSV file format">§</a> <a href="#Emuera 中文文档（第一版）">TOP</a></div><h2 id="§1-2-erb文件格式-erb-file-format" tabindex="-1">§1.2 ERB文件格式 ERB file format <a class="header-anchor" href="#§1-2-erb文件格式-erb-file-format" aria-hidden="true">#</a></h2><blockquote><p><a href="http://cbaku.com/b/erakanon/eramaerb.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramaerb.html</a></p></blockquote><h3 id="基本信息-1" tabindex="-1">基本信息 <a class="header-anchor" href="#基本信息-1" aria-hidden="true">#</a></h3><h4 id="关于erb文件" tabindex="-1">关于ERB文件 <a class="header-anchor" href="#关于erb文件" aria-hidden="true">#</a></h4><p>在eramaker.exe下直接放置一个名为ERB的文件夹，并将ERB文件放入该文件夹中。 您可以使用任何文件名，只要扩展名是.ERB。 请用记事本等文本编辑器编辑。</p><h4 id="如何编写erb文件" tabindex="-1">如何编写ERB文件 <a class="header-anchor" href="#如何编写erb文件" aria-hidden="true">#</a></h4><h5 id="注释和空格" tabindex="-1">注释和空格 <a class="header-anchor" href="#注释和空格" aria-hidden="true">#</a></h5><p>在所有ERB文件中，</p><ul><li>如果第一个字符是半角分号<code>;</code>，则该行将被忽略。 另外，空行也会被忽略。</li><li>请不要在行末加分号，也不要在行后写评论。</li><li>行首的半角空格和制表符无论延续多少都会被忽略。</li></ul><p>正确：</p><div class="language-"><pre><code>;资金设置
MONEY = 500
    ;时间设置
    DAY = 10
    TIME = 1
;开始游戏
PRINT 做什么？
</code></pre></div><p>错误：</p><div class="language-"><pre><code>MONEY = 500;
TIME = 5;（从第5天开始）
</code></pre></div><h5 id="半角输入" tabindex="-1">半角输入 <a class="header-anchor" href="#半角输入" aria-hidden="true">#</a></h5><p>输入数字、指令、变量名、函数名等时，请使用半角字符。</p><p>正确：</p><div class="language-"><pre><code>MONEY = 500
PRINT 开始游戏。
</code></pre></div><p>错误：</p><div class="language-"><pre><code>ＭＯＮＥＹ　＝　５００
ＰＲＩＮＴ 开始游戏。
</code></pre></div><h5 id="字符串输入" tabindex="-1">字符串输入 <a class="header-anchor" href="#字符串输入" aria-hidden="true">#</a></h5><p>如果你用<code>&quot;&quot;</code>包住字符串，它将无法正常工作。</p><p>正确：</p><div class="language-"><pre><code>PRINT 这一天结束了……
</code></pre></div><p>错误：</p><div class="language-"><pre><code>PRINT &quot;这一天结束了……&quot;
</code></pre></div><h5 id="一行的完结" tabindex="-1">一行的完结 <a class="header-anchor" href="#一行的完结" aria-hidden="true">#</a></h5><p>即使在写长指令时，也不要把指令分成两行以上。</p><p>正确：</p><div class="language-"><pre><code>PRINT 因为奈月的身体很敏感，也很有经验，就算你对她粗暴一点，她也会很高兴。虽然嘴上否认，但奈月却越发的暴躁了。但睡梦中的特殊情况，让我迟迟不敢大胆行动。
</code></pre></div><p>错误：</p><div class="language-"><pre><code>PRINT
因为奈月的身体很敏感，也很有经验，就算你对她粗暴一点，她也会很高兴。虽然嘴上否认，但奈月却越发的暴躁了。但睡梦中的特殊情况，让我迟迟不敢大胆行动。
</code></pre></div><h3 id="变量与命令" tabindex="-1">变量与命令 <a class="header-anchor" href="#变量与命令" aria-hidden="true">#</a></h3><h4 id="关于变量" tabindex="-1">关于变量 <a class="header-anchor" href="#关于变量" aria-hidden="true">#</a></h4><p>在训练SLG中，参数的变化至关重要。 因此，你必须学会如何使用 &quot;变量&quot;，它可以存储数据并进行加法和乘法等计算。</p><h5 id="将数字放入变量中" tabindex="-1">将数字放入变量中 <a class="header-anchor" href="#将数字放入变量中" aria-hidden="true">#</a></h5><p>使用<code>=</code>。请按半角输入。在<code>=</code>前后用空格或<s>制表符</s>隔开。（译者：请使用空格） EraMaker中可以使用的数字基本都是整数。 不要输入小数。</p><p>正确：</p><div class="language-"><pre><code>MONEY = 500
</code></pre></div><p>错误：</p><div class="language-"><pre><code>MONEY ＝ 500
MONEY=500
MONEY = 3.14
</code></pre></div><h5 id="将计算出的数字放入变量" tabindex="-1">将计算出的数字放入变量 <a class="header-anchor" href="#将计算出的数字放入变量" aria-hidden="true">#</a></h5><p>我们也用<code>=</code>。 注意，<code>*</code>是乘法，<code>/</code>是除法，<code>%</code>是求余。 当计算结果是小数时，会被四舍五入。</p><p>正确：</p><div class="language-"><pre><code>;MONEY的值为74
MONEY = 15+34+25
;MONEY的值为650
MONEY = 150+(100-50)*10
;MONEY的值为3
MONEY = 10/3
;MONEY的值为TIME的10倍
MONEY = TIME*10
;若DAY为0,1,2……则MONEY为0,10,20……超过7时，返回到0。
MONEY = DAY%7*10
</code></pre></div><p>错误：</p><div class="language-"><pre><code>MONEY = 500×10÷4
</code></pre></div><h5 id="变量之间的加乘运算" tabindex="-1">变量之间的加乘运算 <a class="header-anchor" href="#变量之间的加乘运算" aria-hidden="true">#</a></h5><p>使用<code>+=</code>，<code>-=</code>，<code>*=</code>，<code>/=</code>和<code>%=</code>。</p><p>正确：</p><div class="language-"><pre><code>MONEY = 100
TIME = 12
;MONEY的值为150
MONEY += 50
;MONEY的值为750
MONEY *= 7-2
;MONEY的值为80
MONEY -= 670
;MONEY的值为8
MONEY %= TIME
;MONEY的值为1
MONEY /= TIME-4
</code></pre></div><h5 id="关于数组" tabindex="-1">关于数组 <a class="header-anchor" href="#关于数组" aria-hidden="true">#</a></h5><p>变量可以作为一个“数组”来访问。 变量可以以“数组”的形式访问。&quot;数组 &quot;是用来管理两个或多个同名变量的数据。 对数组的访问使用半角冒号<code>:</code>。两者之间不要留有空格。 数组后面可以放的最小数字是0。 最大值由变量决定。 详细情况请参考清单。 可以在数组后面放一个变量，而不是一个数字。 但是，在数组之后，是不能带数组的。</p><p>正确：</p><div class="language-"><pre><code>A = 35
;为数组FLAG赋值
FLAG:0 = 0
FLAG:2 = 10
FLAG:35 = 440
;用数组FLAG进行计算
FLAG:A += 100/FLAG:2
FLAG:2 *= FLAG:A
</code></pre></div><p>错误：</p><div class="language-"><pre><code>FLAG：0 = 10
FLAG : 52 = 1000
FLAG:FLAG:20 = 10000
FLAG:91881816 = 1
</code></pre></div><h5 id="关于二维数组" tabindex="-1">关于二维数组 <a class="header-anchor" href="#关于二维数组" aria-hidden="true">#</a></h5><p>有一个变量，可以例外地使用两个冒号来访问。 它是一个与人物数据有关的变量。 它的访问形式是（变量名）:（占有字符号）:（变量号）。</p><p>如：</p><div class="language-"><pre><code>A = 2 ;让第5个角色的第0种能力升到3级。
ABL:5:0 = 3
;让第A个(第2个)角色的第1种经验+2。
EXP:A:1 += 2
</code></pre></div><h5 id="在屏幕上显示变量" tabindex="-1">在屏幕上显示变量 <a class="header-anchor" href="#在屏幕上显示变量" aria-hidden="true">#</a></h5><p>最简单的方法是使用说明书<code>PRINTV</code>和<code>PRINTVL</code>。 后面会详细讨论说明。</p><p>如：</p><div class="language-"><pre><code>A = 2
PRINTV A
A = 30
PRINTVL A
B = 400
PRINTVL B
</code></pre></div><p>输出：</p><div class="language-"><pre><code>230
400
</code></pre></div><h5 id="关于字符串变量" tabindex="-1">关于字符串变量 <a class="header-anchor" href="#关于字符串变量" aria-hidden="true">#</a></h5><p>普通变量只能处理整数，但也有字符串变量可以处理字符串。 但功能有限。 在屏幕上显示字符串变量时，使用指令<code>PRINTS</code>或<code>PRINTSL</code>。</p><p>正确：</p><div class="language-"><pre><code>STR:0 = 测试文字
PRINTSL STR:0
</code></pre></div><p>错误：</p><div class="language-"><pre><code>;无法对字符串变量使用+=
STR:0 += 测试文字
</code></pre></div><h5 id="变量列表" tabindex="-1">变量列表 <a class="header-anchor" href="#变量列表" aria-hidden="true">#</a></h5><p>参考<a href="./.html">此处</a>。</p><h4 id="关于命令（基本）" tabindex="-1">关于命令（基本） <a class="header-anchor" href="#关于命令（基本）" aria-hidden="true">#</a></h4><p>命令可用于在屏幕上显示文本和进行条件判断。</p><h5 id="如何编写命令" tabindex="-1">如何编写命令 <a class="header-anchor" href="#如何编写命令" aria-hidden="true">#</a></h5><p>这是基本的如何编写（指令名称）（指令内容）。 请用半角空格或制表符将（指令名称）和（指令内容）分开。 对于没有（指令内容）的指令，请按原样改行。</p><p>正确：</p><div class="language-"><pre><code>PRINT 这是一个测试。
SIF 3 == 1+2
    PRINT 这很明显。
WAIT
</code></pre></div><p>错误：</p><div class="language-"><pre><code>PRINT这是一个测试。
;等待输入
WAIT 0
</code></pre></div><h5 id="显示文字" tabindex="-1">显示文字 <a class="header-anchor" href="#显示文字" aria-hidden="true">#</a></h5><p><code>PRINT</code>是显示一个字符的命令，<code>PRINTL</code>显示一个字符并新建一行。 <code>PRINTVW</code>显示变量的内容并等待输入。 <code>PRINTVW</code>显示变量的内容并等待输入。 <code>PRINTFORM</code>可以显示字符、变量、字符串变量等的组合，<code>PRINTFORML</code>做的和换行一样，<code>PRINTFORMW</code>做的和等待输入一样。 <code>PRINTFORMS</code>将字符串变量的内容和<code>PRINTFORM</code>一样转换，并显示出来，<code>PRINTFORMSL</code>也是如此，还有换行，<code>PRINTFORMSW</code>也是如此，并等待输入。 <code>PRINTFORMSW</code>做同样的工作，等待输入；<code>PRINTFORMSL</code>做同样的工作，等待输入；<code>PRINTFORMSW</code>做同样的工作，等待输入；<code>PRINTFORMSL</code>做同样的工作，等待输入。</p><p>如：</p><div class="language-"><pre><code>MONEY = 500
NAME:0 = 佐藤
PRINT 存款有
PRINTV MONEY
PRINTL 元。
PRINT 我的名字叫
PRINTS NAME:0
PRINTL 。
PRINTFORML 重复一遍，我的名字叫%NAME:0%，我的存款有{MONEY}元。
PRINTFORMW 如果存款加上1000日元，后支付600日元，剩下的就是{MONEY+1000-600}元。
STR:0 = 将这些钱乘以5，就得到{(MONEY+1000-600)*5}元。
PRINTFORMSW STR:0
</code></pre></div><p>输出：</p><div class="language-"><pre><code>存款有500元。
我的名字叫佐藤。
重复一遍，我的名字叫佐藤，我的存款有500元。
如果得到1000日元，支付600元，剩下的就是900元。
将这些钱乘以5，就得到4500元。
</code></pre></div><h5 id="条件判断" tabindex="-1">条件判断 <a class="header-anchor" href="#条件判断" aria-hidden="true">#</a></h5><p>如果条件表达式不是0，则<code>SIF</code>执行下一行。 如果条件表达式不为0（有效时），<code>SIF</code>执行下一行。 0（无效时），跳过下一行。 如果条件表达式不是0，则执行下一行，直到达到<code>ELSE</code>、<code>ELSEIF</code>和<code>ENDIF</code>。 如果是0，则跳过<code>ELSE</code>、<code>ELSEIF</code>和<code>ENDIF</code>；如果是0，则跳过<code>ELSE</code>、<code>ELSEIF</code>和<code>ENDIF</code>；如果是<code>ELSE</code>，则从下一行开始执行，直到到达<code>ENDIF</code>；如果是<code>ELSEIF</code>，则从下一行开始执行，直到到达<code>ELSE</code>、<code>ELSEIF</code>或<code>ENDIF</code>。 如果条件表达式是<code>ELSEIF</code>，则从下一行开始执行，直到到达<code>ELSE</code>、<code>ELSEIF</code>或<code>ENDIF</code>为止；否则，它将跳过，直到到达<code>ELSE</code>、<code>ELSEIF</code>或<code>ENDIF</code>为止，并重复该过程。</p><p>如：</p><div class="language-"><pre><code>A = 1
B = 2
C = 4

SIF A == 1
    PRINTL 测试1
SIF B != 1
    PRINTL 测试2
SIF C &lt; 5
    PRINTL 测试3
IF A+B &gt; 2
    IF C &gt;= 6
        PRINTL 测试4
    ELSE
        PRINTL 测试5
    ENDIF
    IF A == 1 &amp;&amp; B == 3
        PRINTL 测试6
    ELSEIF A == 1 || B == 3
        PRINTL 测试7
    ELSEIF A &gt; 1 || (B &gt; 2 &amp;&amp; C &gt; 2)
        PRINTL 测试8
    ENDIF
ELSEIF A+B == 2
    PRINTL 测试9
ELSE
    PRINTL 测试10
ENDIF
</code></pre></div><p>输出：</p><div class="language-"><pre><code>测试1
测试2
测试3
测试5
测试7
</code></pre></div><p>布尔运算符：均为半角。</p><table><thead><tr><th style="text-align:center;">字符</th><th style="text-align:center;">意义</th></tr></thead><tbody><tr><td style="text-align:center;">==</td><td style="text-align:center;">等于</td></tr><tr><td style="text-align:center;">!=</td><td style="text-align:center;">不等于</td></tr><tr><td style="text-align:center;">&gt;</td><td style="text-align:center;">大于</td></tr><tr><td style="text-align:center;">&gt;=</td><td style="text-align:center;">不小于</td></tr><tr><td style="text-align:center;">&lt;</td><td style="text-align:center;">小于</td></tr><tr><td style="text-align:center;">&lt;=</td><td style="text-align:center;">不大于</td></tr><tr><td style="text-align:center;">&amp;&amp;</td><td style="text-align:center;">与（AND）</td></tr><tr><td style="text-align:center;">||</td><td style="text-align:center;">或（OR）</td></tr></tbody></table><p>可以用括号来判断更复杂的条件。</p><h5 id="输入与输入等待" tabindex="-1">输入与输入等待 <a class="header-anchor" href="#输入与输入等待" aria-hidden="true">#</a></h5><p><code>WAIT</code>是通过显示句子等待输入时使用的。 （注：一般情况下，你可以用<code>PRINTW</code>来表达单行的文字，这样更容易阅读。） 当你想让玩家输入一个整数时，使用<code>INPUT</code>。 输入的结果存储在<code>RESULT</code>中。 当你想让玩家输入一个字符串时，使用<code>INPUTS</code>。 输入的结果存储在<code>RESULTS</code>中。</p><p>如：</p><div class="language-"><pre><code>PRINT DATA输入开始。
WAIT
PRINTL 请输入你的年龄。
INPUT
PRINTL 请输入你的名字。
INPUTS
PRINTFORML %RESULTS%今年已经{RESULT}岁了。
</code></pre></div><h5 id="重复与goto" tabindex="-1">重复与GOTO <a class="header-anchor" href="#重复与goto" aria-hidden="true">#</a></h5><p>当你想重复触发指令时，可使用<code>REPEAT</code>，语句会执行到<code>REND</code>处后返回到初始点。重复次数储存在<code>COUNT</code>变量中。</p><p>注意：<code>REPEAT</code>语句不支持嵌套。</p><p>如果你在从<code>REPEAT</code>到<code>REND</code>的途中使用<code>CONTINUE</code>，它将回到<code>REPEAT</code>的位置；如果你使用<code>BREAK</code>，它将停止重复并跳到<code>REND</code>的下一行。</p><p>如果你想一次性移动到另一个地方，请使用<code>GOTO</code>。当你使用<code>GOTO</code>时，你需要用$注册一个 &quot;标签&quot;。</p><p>如：</p><div class="language-"><pre><code>REPEAT 10
    PRINT 你好
REND
;使用不带参数的PRINTL用于换行。
PRINTL
REPEAT 5
    PRINTFORML 分数：{COUNT*5}
REND

MONEY = 300
REPEAT 5
    SIF MONEY &lt;= COUNT*100
        BREAK
    PRINTFORML 金额比{COUNT*100}元更多。
REND
REPEAT 5
    SIF MONEY == COUNT*100
        CONTINUE
    PRINTFORML 金额不是{COUNT*100}元。
REND

$INPUT_LOOP
PRINTL 请输入0-9的整数。
INPUT
SIF RESULT &lt; 0 || RESULT &gt; 9
   GOTO INPUT_LOOP
PRINTFORML 输入的数字为{RESULT}。
</code></pre></div><p>输出：</p><div class="language-"><pre><code>你好你好你好你好你好你好你好你好你好你好
分数：0
分数：5
分数：10
分数：15
分数：20
金额比0元更多。
金额比100元更多。
金额比200元更多。
金额不是0元。
金额不是100元。
金额不是200元。
金额不是400元。
请输入0-9的整数。
-1 【故意手动输入过小的整数。】
请输入0-9的整数。
10 【故意手动输入过大的整数。】
请输入0-9的整数。
3 【按要求手动输入。】
输入的数字为3。
</code></pre></div><h5 id="关于函数" tabindex="-1">关于函数 <a class="header-anchor" href="#关于函数" aria-hidden="true">#</a></h5><p>一个大型的程序，如果执意要连续不断一气呵成写到最后，而不分为各个部分的话，写出来的程序是很糟糕的。维护难度很大。如果把程序合理的分为不同的部分，可以使程序更加容易被理解。</p><p>我们可以通过“函数”来实现代码的分割。</p><p>函数本身分为“注册”和“调用”两个部分，注册时需要使用<code>@</code>，<code>@</code>之后紧跟函数的名称。合法的函数名称是由字母与下划线构成的，且均为半角。</p><p>游戏启动时最先调用的函数名为<code>EVENTFIRST</code>，我们将在后文进行详细介绍。</p><p>若想<strong>跳转</strong>到某个函数（不返回），请使用<code>JUMP</code>。</p><p>若想<strong>调用</strong>某个函数（执行完后返回），请使用<code>CALL</code>。</p><p>使用<code>CALL</code>语句调用的函数在执行到<code>RETURN</code>语句后可以返回原函数，<code>RETURN</code>语句的参数会被保存在<code>RESULT</code>变量中。若函数执行结束而没有执行<code>RETURN</code>时，<code>RESULT</code>变量中的值为<code>0</code>。</p><p>若使用<code>RESTART</code>语句，当前函数将会冲从头重新开始执行。</p><p>如：</p><div class="language-"><pre><code>@EVENTFIRST
PRINTW 游戏开始。

CALL OPENING
PRINTFORMW 开局函数执行的结果为{RESULT}。
CALL GAME_MAIN
PRINTFORMW 游戏的结果为{RESULT}。
JUMP ENDING

PRINTL 由于上面跳转到ENDING函数，所以本行不执行。

@OPENING
PRINTW 这是开局函数。
RETURN 25

@GAME_MAIN
PRINTW 这是游戏主函数。
PRINTL 函数内语句运行完毕且不显式执行RETURN语句。

@ENDING
PRINTW 游戏结束。
RESTART
</code></pre></div><p>输出：</p><div class="language-"><pre><code>游戏开始。
这是开局函数。
开局函数执行的结果为25。
这是游戏主函数。
函数内语句运行完毕且不显式执行RETURN语句。
游戏的结果为0。
游戏结束。
游戏结束。
游戏结束。
…… 【无限循环】
</code></pre></div><h5 id="其他基本命令" tabindex="-1">其他基本命令 <a class="header-anchor" href="#其他基本命令" aria-hidden="true">#</a></h5><p><code>QUIT</code>：退出游戏；</p><p><code>DRAWLINE</code>：用<code>--</code>画一条从左至右的分割线；</p><p><code>TIMES</code>：支持小数的乘法运算（否则EraMaker会对小数自动取整）。</p><p><code>BAR</code>：在屏幕上绘制一个类似于<code>[*****.....]</code>的控件，用法为：<code>BAR [变量] [最大值] [控件长度]</code>。</p><p>如：</p><div class="language-"><pre><code>MONEY = 500
DRAWLINE
BARL MONEY , 1000 , 20
PRINTFORMW 我有{MONEY}元钱。
DRAWLINE
TIMES MONEY , 1.25
BARL MONEY , 1000 , 20
PRINTFORMW 我有{MONEY}元钱，游戏结束。
QUIT
</code></pre></div><p>输出：</p><div class="language-"><pre><code>------------------------------
[**********..........]
我有500元钱。
------------------------------
[************........]
我有625元钱，游戏结束。
</code></pre></div><h4 id="关于命令（训练用）" tabindex="-1">关于命令（训练用） <a class="header-anchor" href="#关于命令（训练用）" aria-hidden="true">#</a></h4><p>EraMaker有一些训练专用的特殊命令。</p><h5 id="显示训练专用的数据" tabindex="-1">显示训练专用的数据 <a class="header-anchor" href="#显示训练专用的数据" aria-hidden="true">#</a></h5><p><code>PRINT_ABL</code>：显示角色的能力；</p><p><code>PRINT_TALENT</code>：显示角色的素质；</p><p><code>PRINT_MARK</code>：显示角色的刻印；</p><p><code>PRINT_EXP</code>：显示角色的经验；</p><p><code>PRINT_PALAM</code>：显示角色训练中的参数；</p><p>使用以上的命令时，请指定需要显示的角色，如<code>PRINT_ABL 0</code>一般标识显示主角的能力。</p><p><code>PRINT_ITEM</code>：显示持有的物品；</p><p><code>PRINT_SHOPITEM</code>：显示商店中的物品；</p><p><code>UPCHECK</code>：显示训练命令在训练期间参数的变化。</p><h5 id="角色管理" tabindex="-1">角色管理 <a class="header-anchor" href="#角色管理" aria-hidden="true">#</a></h5><p><code>ADDCHARA</code>：新增一个角色。如果需要添加一个编号为3的角色，<code>ADDCHARA 3</code>。</p><p><code>ADDSPCHARA</code>：新增一个SP角色。如果需要添加一个编号为3的角色，<code>ADDSPCHARA 3</code>。（SP角色是指角色编号为0或1的角色。）</p><p><code>DELCHARA</code>：删除一个由<code>ADDCHARA</code>或其他方法添加的角色。</p><p>如：</p><div class="language-"><pre><code>;编号为0的角色为名为小明的主人公
;编号为3的角色名字是小红、5的角色名字是小刚、6的角色名字是小垃圾
PRINTFORML 当前共有{CHARANUM}名角色。
ADDCHARA 3
ADDCHARA 5
ADDCHARA 6
PRINTFORML 当前共有{CHARANUM}名角色。
REPEAT CHARANUM
    PRINTFORML 第{COUNT}号为%NAME:COUNT%。
REND
DELCHARA 2
PRINTFORML 当前共有{CHARANUM}名角色。
REPEAT CHARANUM
    PRINTFORML 第{COUNT}号为%NAME:COUNT%。
REND
</code></pre></div><p>输出：</p><div class="language-"><pre><code>当前共有1名角色。
当前共有4名角色。
第0号为小明。
第1号为小红。
第2号为小刚。
第3号为小垃圾。
当前共有3名角色。
第0号为小明。
第1号为小红。
第2号为小垃圾。
</code></pre></div><h5 id="存档相关" tabindex="-1">存档相关 <a class="header-anchor" href="#存档相关" aria-hidden="true">#</a></h5><p><code>SAVEGAME</code>：呼出保存存档界面；</p><p><code>LOADGAME</code>：呼出加载存档界面；</p><p>上面两条命令都只能在<code>SHOP</code>中调用。</p><p><code>PUTFORM</code>只能与一个名为<code>@SAVEINFO</code>的特殊函数一起使用，它可以用与PRINTFORM类似的格式来写出你的存档的概况。如该存档已经过去了多少天，角色的能力是什么，以及正在训练哪个角色等。</p><h5 id="begin" tabindex="-1">BEGIN <a class="header-anchor" href="#begin" aria-hidden="true">#</a></h5><p><code>BEGIN</code>可以通过调用各种系统指令来推进游戏。</p><p>正在执行的函数在调用<code>BEGIN</code>函数后会被终止，即使<code>BEGIN</code>函数从其他地方被<code>CALL</code>语句调用，它也不会返回到原来的函数。</p><p><code>BEGIN TRAIN</code>：开始训练；</p><p><code>BEGIN AFTERTRAIN</code>：结束训练；</p><p><code>BEGIN ABLUP</code>：呼出升级界面；</p><p><code>BEGIN TURNEND</code>：结束回合；</p><p><code>BEGIN SHOP</code>：呼出SHOP界面；</p><div align="right"><a href="#§1 EraMaker之章 Chapter of EraMaker">§</a> <a href="#Emuera 中文文档（第一版）">TOP</a></div><h2 id="§1-3-erabasic的结构-structure-of-erabasic" tabindex="-1">§1.3 EraBasic的结构 Structure of EraBasic <a class="header-anchor" href="#§1-3-erabasic的结构-structure-of-erabasic" aria-hidden="true">#</a></h2><blockquote><p><a href="http://cbaku.com/b/erakanon/eramaerc.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramaerc.html</a></p></blockquote><h3 id="基本信息-2" tabindex="-1">基本信息 <a class="header-anchor" href="#基本信息-2" aria-hidden="true">#</a></h3><h4 id="eramaker的启动" tabindex="-1">EraMaker的启动 <a class="header-anchor" href="#eramaker的启动" aria-hidden="true">#</a></h4><p>游戏启动后，会出现标题屏幕，你可以选择“从头开始”或“加载存档”。当你选择“从头开始”时，ERB文件中的<code>EVENTFIRST</code>函数会被调用。</p><p>当<code>EVENTFIRST</code>完全执行完毕后，游戏便会结束。因此，通过<code>BEGIN</code>调用<code>SHOP</code>或<code>TRAIN</code>很有必要的。</p><blockquote><p>此处可参见示例游戏的<code>SYSTEM.ERB</code>的开头部分。</p></blockquote><h4 id="shop" tabindex="-1">SHOP <a class="header-anchor" href="#shop" aria-hidden="true">#</a></h4><h5 id="进入shop流程" tabindex="-1">进入SHOP流程 <a class="header-anchor" href="#进入shop流程" aria-hidden="true">#</a></h5><p>进入SHOP流程后，<code>@EVENTSHOP</code>函数（如果有的话）将被调用。这是一个事件函数。</p><p>之后，<code>@SHOW_SHOP</code>函数将会被调用。可以在此函数中显示一些基本信息，如日期和训练中的角色等。调用<code>PRINT_SHOPITEM</code>显示出售中的物品，或是显示一些特殊的选项，如保存和加载等。</p><h5 id="在shop流程中选择命令" tabindex="-1">在SHOP流程中选择命令 <a class="header-anchor" href="#在shop流程中选择命令" aria-hidden="true">#</a></h5><p>如果选择的数字位于0-99，则意味着购买物品。</p><p>如果选择任何其他数字，将调用函数<code>@USERSHOP</code>，所选择的数字被储存在<code>RESULT</code>变量中，等待进行后续的处理。</p><blockquote><p>此处可参见实例游戏中的<code>SHOP.ERB</code>文件部分，方便理解。</p></blockquote><h5 id="购买" tabindex="-1">购买 <a class="header-anchor" href="#购买" aria-hidden="true">#</a></h5><p>当你购买物品时，函数<code>@EVENTBUY</code>将会被调用（如果有的话）。这是一个事件函数。（如果你想把已购买的物品从商店的品种中删除，使用这个功能是个好主意。）</p><h4 id="train" tabindex="-1">TRAIN <a class="header-anchor" href="#train" aria-hidden="true">#</a></h4><h5 id="进入train流程" tabindex="-1">进入TRAIN流程 <a class="header-anchor" href="#进入train流程" aria-hidden="true">#</a></h5><p>进入SHOP流程后，<code>@EVENTTRAIN</code>函数（如果有的话）将被调用。这是一个事件函数。</p><p>然后，<code>@SHOW_STATUS</code>函数会被调用。这个函数会显示日期、训练中的角色等基本信息，以及使用<code>PRINT_PALAM</code>命令来显示训练中的参数。可以试一试。</p><p>然后，可以供玩家执行的命令会自动显示。命令显示时会自动调用相应的<code>@COM_ABLE××</code>函数，若函数的返回值<code>RETURN</code>为<code>1</code>，则意味着该命令可以被玩家点击。若相应的<code>@COM_ABLE××</code>函数不存在，也意味着命令可以被玩家点击。更多细节参见示例文件<code>COMABLE.ERB</code>。</p><p>此外，一个名为<code>@SHOW_USERCOM</code>的函数会被调用，类似于“结束训练”之类的特殊命令应该显示在该函数内。</p><p>更多信息参见示例文件：<code>SYSTEM.ERB</code>和<code>INFO.ERB</code>。</p><h5 id="train中的指令选择" tabindex="-1">TRAIN中的指令选择 <a class="header-anchor" href="#train中的指令选择" aria-hidden="true">#</a></h5><p>当玩家选择一个指令时，<code>@EVENTCOM</code>函数（若有）会被调用。这是一个事件函数。另外，与所选命令相对应的函数会被调用，如选择“正常位置”命令，并且<code>TRAIN.CSV</code>文件中的“正常位置”命令对应的编号为20，则将调用一个名为<code>@COM20</code>的函数。</p><p>若一个动作函数无法执行，则在函数中调用<code>RETURN 0</code>语句，便会返回到命令选择界面，而不继续执行命令。</p><p>若一个命令可以被执行，在<code>@COM××</code>中就会执行<code>RETURN 1</code>，然后<code>@SOURCE_CHECK</code>函数就会被调用。训练的结果反映在这里的训练参数中。</p><p>更多信息参见示例文件：<code>COM××.ERB</code>和<code>SOURCE.ERB</code>。</p><h5 id="train中的指令选择结束" tabindex="-1">TRAIN中的指令选择结束 <a class="header-anchor" href="#train中的指令选择结束" aria-hidden="true">#</a></h5><p>指令选择结束后，事件函数<code>@EVENTCOMEND</code>（若有）会被调用，可以在该函数内执行显示角色台词等行为。</p><p>更多信息参见示例文件：<code>CKOJOxx.ERB</code>。</p><h5 id="用户命令" tabindex="-1">用户命令 <a class="header-anchor" href="#用户命令" aria-hidden="true">#</a></h5><p>如果动作选项所对应的<code>@COM××</code>函数不存在，将调用@USERCOM。</p><p>更多信息参见示例文件：<code>SYSTEM.ERB</code>。</p><h4 id="aftertrain" tabindex="-1">AFTERTRAIN <a class="header-anchor" href="#aftertrain" aria-hidden="true">#</a></h4><p>进入AFTERTRAIN流程后，事件函数<code>@EVENTEND</code>（若有）将会被调用。</p><p>训练结束后，人物的台词可以在这里进行处理。此外，训练结束后的结算（珠等）也应在这里进行。</p><p>更多信息参见示例文件：<code>AFTERTRA.ERB</code>。</p><h4 id="ablup" tabindex="-1">ABLUP <a class="header-anchor" href="#ablup" aria-hidden="true">#</a></h4><h5 id="ablup的显示" tabindex="-1">ABLUP的显示 <a class="header-anchor" href="#ablup的显示" aria-hidden="true">#</a></h5><p>首先，<code>@SHOW_JUEL</code>函数会被调用，显示当前所有的珠子。</p><p>然后，<code>@SHOW_ABLUP_SELECT</code>函数会被调用，显示能力列表和退出按钮。</p><p>更多信息参见示例文件：<code>ABL.ERB</code>。</p><h5 id="ablup的指令选择" tabindex="-1">ABLUP的指令选择 <a class="header-anchor" href="#ablup的指令选择" aria-hidden="true">#</a></h5><p>当玩家选择一个命令时，相对应的函数将会被调用，如选择“[3] C感觉”，就会调用<code>@ABLUP3</code>函数。</p><p>若相对应的<code>@ABLUPxx</code>函数不存在，则将调用<code>@USERABLUP</code>函数。选择的命令编号储存在<code>RESULT</code>变量中，可以在函数中进行相应处理。</p><p>更多信息参见示例文件：<code>ABLUP××.ERB</code>和<code>ABL.ERB</code>。</p><h4 id="turnend" tabindex="-1">TURNEND <a class="header-anchor" href="#turnend" aria-hidden="true">#</a></h4><p>进入TURNEND流程后，事件函数<code>@EVENTTURNEND</code>（若有）将会被调用。</p><p>在这里可以处理一下关于时间和角色状态（如恢复等）的逻辑。</p><p>注意：若事件函数<code>@EVENTTURNEND</code>未定义，则游戏会停止。</p><p>更多信息参见示例文件：<code>SYSTEM.ERB</code>。</p><h4 id="事件函数" tabindex="-1">事件函数 <a class="header-anchor" href="#事件函数" aria-hidden="true">#</a></h4><h5 id="关于事件函数" tabindex="-1">关于事件函数 <a class="header-anchor" href="#关于事件函数" aria-hidden="true">#</a></h5><p>事件函数是指游戏生命周期中的固定位置会被调用的函数。如命令执行完毕会训练开始时。</p><p>当你想显示人物的对话时，事件函数很有用。如果你把台词直接写在相应的<code>@COM××</code>函数中，就会让人难以理解。而如果利用事件函数，则可以方便地单独管理相关台词。</p><p>事件函数可以重名。</p><p>如：</p><div class="language-"><pre><code>;正常位置执行结束的时候的台词
@EVENTCOMEND
;正常位置的编号为20。若不是20就无视
SIF SELECTCOM != 20
    RETURN 0
;如果FLAG:1000为非0就无视
SIF FLAG:1000
    RETURN 0
PRINTW “不要这么直接呀！”
;设定FLAG。显示一次后就不再显示
FLAG:1000 = 1
RETURN 1

;背后位置执行结束的时候的台词
@EVENTCOMEND
;背后位置的编号为21。若不是21就无视
SIF SELECTCOM != 21
    RETURN 0
;如果FLAG:1001为非0就无视
SIF FLAG:1001
    RETURN 0
PRINTW “这种位置……”
;设定FLAG。显示一次后就不再显示
FLAG:1001 = 1
RETURN 1
</code></pre></div><p>可以给事件函数赋予“性质”。</p><p>当附加<code>#SINGLE</code>的性质时，当该函数以<code>RETURN 1</code>结束时，即使存在其他同名函数也不会被调用。这个特性可以用在同一个角色存在几句相互矛盾的台词时。</p><p>当附加<code>#PRI</code>的性质时，该函数会优先于其他同名函数之前执行。这个特性可以用于角色死亡检查。</p><p>当附加<code>#LATER</code>的性质时，该函数会优先于其他同名函数之后执行。这个特性可以用于结算，如显示“一天过去了。”之类的文本。</p><p>如：</p><div class="language-"><pre><code>@EVENTTURNEND
#SINGLE
SIF FLAG:1000
   RETURN 0
FLAG:1000 = 1
PRINTW “不想动了……”
RETURN 1

@EVENTTURNEND
#SINGLE
SIF FLAG:1001
   RETURN 0
FLAG:1001 = 1
PRINTW “想回家……”
RETURN 1

@EVENTTURNEND
#SINGLE
SIF FLAG:1002
   RETURN 0
FLAG:1002 = 1
PRINTW “想出门……”
RETURN 1

@EVENTTURNEND
#LATER
PRINTW 一天过去了……
RETURN 1
</code></pre></div><p>（1-3句每次只显示一个，而最后一句会在<code>FLAG:1000</code>、<code>FLAG:1001</code>和<code>FLAG:1002</code>的值都为<code>1</code>之后才会显示。）</p><div align="right"><a href="#§1 EraMaker之章 Chapter of EraMaker">§</a> <a href="#Emuera 中文文档（第一版）">TOP</a></div><h2 id="§1-4-erabasic变量列表-list-of-erabasic-variables" tabindex="-1">§1.4 EraBasic变量列表 List of EraBasic variables <a class="header-anchor" href="#§1-4-erabasic变量列表-list-of-erabasic-variables" aria-hidden="true">#</a></h2><blockquote><p><a href="http://cbaku.com/b/erakanon/eramavar.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramavar.html</a></p></blockquote><h3 id="基本变量" tabindex="-1">基本变量 <a class="header-anchor" href="#基本变量" aria-hidden="true">#</a></h3><h4 id="通用变量" tabindex="-1">通用变量 <a class="header-anchor" href="#通用变量" aria-hidden="true">#</a></h4><h5 id="a-z" tabindex="-1">A-Z <a class="header-anchor" href="#a-z" aria-hidden="true">#</a></h5><p>单字母变量。从A到Z，共26个。适用于储存临时数据。</p><p>不要寄希望于用它储存跨区块的数据，因为在其它部分可能会被使用。</p><p>用法：</p><div class="language-"><pre><code>;赋值
</code></pre></div><h5 id="count" tabindex="-1">COUNT <a class="header-anchor" href="#count" aria-hidden="true">#</a></h5><p>循环次数变量。用于REPEAT~REND循环之中。从0开始计数。</p><p>不要在循环之中手动修改其中的数据，可能会导致BUG的出现。即使你知道你在干什么，但还是不推荐手动修改。</p><h5 id="result" tabindex="-1">RESULT <a class="header-anchor" href="#result" aria-hidden="true">#</a></h5><p>结果变量（数字）。</p><p>不推荐以任何理由去改写它。如果需要改写，也请赋值给一个新的变量并改写那个新的变量。</p><h5 id="results" tabindex="-1">RESULTS <a class="header-anchor" href="#results" aria-hidden="true">#</a></h5><p>结果变量（字符串）。</p><p>不推荐以任何理由去改写它。如果需要改写，也请赋值给一个新的变量并改写那个新的变量。</p><h4 id="基本信息变量" tabindex="-1">基本信息变量 <a class="header-anchor" href="#基本信息变量" aria-hidden="true">#</a></h4><h5 id="day" tabindex="-1">DAY <a class="header-anchor" href="#day" aria-hidden="true">#</a></h5><p>日期变量。默认是没有单位的。</p><h5 id="time" tabindex="-1">TIME <a class="header-anchor" href="#time" aria-hidden="true">#</a></h5><p>时间变量。默认是没有单位的。</p><h5 id="money" tabindex="-1">MONEY <a class="header-anchor" href="#money" aria-hidden="true">#</a></h5><p>金钱变量。默认是没有单位的。</p><h4 id="训练基本信息变量" tabindex="-1">训练基本信息变量 <a class="header-anchor" href="#训练基本信息变量" aria-hidden="true">#</a></h4><h5 id="master" tabindex="-1">MASTER <a class="header-anchor" href="#master" aria-hidden="true">#</a></h5><p>主角的注册编号。一般为0。</p><p>注意：这个数字可能与<code>Chara××.csv</code>中注册的数字不同。</p><h5 id="target" tabindex="-1">TARGET <a class="header-anchor" href="#target" aria-hidden="true">#</a></h5><p>训练对象的注册编号。</p><p>注意：这个数字可能与<code>Chara××.csv</code>中注册的数字不同。</p><h5 id="assi（assistant）" tabindex="-1">ASSI（Assistant） <a class="header-anchor" href="#assi（assistant）" aria-hidden="true">#</a></h5><p>助手的注册编号。</p><p>注意：这个数字可能与<code>Chara××.csv</code>中注册的数字不同。</p><h5 id="player" tabindex="-1">PLAYER <a class="header-anchor" href="#player" aria-hidden="true">#</a></h5><p>正在提供训练的角色的注册编号。一般与MASTER或ASSI相同。</p><p>注意：这个数字可能与<code>Chara××.csv</code>中注册的数字不同。</p><h5 id="charanum（character-number）" tabindex="-1">CHARANUM（Character Number） <a class="header-anchor" href="#charanum（character-number）" aria-hidden="true">#</a></h5><p>角色数量。引擎生成，用户无法改变。</p><h5 id="assiplay（assistant-play）" tabindex="-1">ASSIPLAY（Assistant Play） <a class="header-anchor" href="#assiplay（assistant-play）" aria-hidden="true">#</a></h5><p>助手现在是否正在训练。</p><p>如果正在训练，值为1；</p><p>如果没训练，值为0；</p><h5 id="selectcom（selected-command）" tabindex="-1">SELECTCOM（Selected Command） <a class="header-anchor" href="#selectcom（selected-command）" aria-hidden="true">#</a></h5><p>被选中的命令编号。与<code>TRAIN.CSV</code>中所注册的命令编号相同。</p><h5 id="prevcom（previous-command）" tabindex="-1">PREVCOM（Previous Command） <a class="header-anchor" href="#prevcom（previous-command）" aria-hidden="true">#</a></h5><p>上次被选中的命令编号。</p><p>用于判断执行重复命令。</p><h4 id="训练变量" tabindex="-1">训练变量 <a class="header-anchor" href="#训练变量" aria-hidden="true">#</a></h4><h5 id="losebase" tabindex="-1">LOSEBASE <a class="header-anchor" href="#losebase" aria-hidden="true">#</a></h5><p>状态损耗变量。<code>int[0~999]</code></p><p>一般地，<code>LOSEBASE:0</code>代表体力消耗量，<code>LOSEBASE:1</code>代表精力消耗量。</p><h5 id="up" tabindex="-1">UP <a class="header-anchor" href="#up" aria-hidden="true">#</a></h5><p>参数升高变量。<code>int[0~999]</code></p><p>索引与<code>PALAM.CSV</code>文件中的索引相同。</p><h5 id="down" tabindex="-1">DOWN <a class="header-anchor" href="#down" aria-hidden="true">#</a></h5><p>参数降低变量。<code>int[0~999]</code></p><p>索引与<code>PALAM.CSV</code>文件中的索引相同。</p><h5 id="palamlv（parameter-level）" tabindex="-1">PALAMLV（Parameter Level） <a class="header-anchor" href="#palamlv（parameter-level）" aria-hidden="true">#</a></h5><p>参数上限。<code>int[0~999]</code></p><p>如果相应训练参数的值超过了这个上限，则训练后得到的珍珠数量就会急剧增加。</p><p>索引与<code>PALAM.CSV</code>文件中的索引相同。</p><h5 id="explv（experience-level）" tabindex="-1">EXPLV（Experience Level） <a class="header-anchor" href="#explv（experience-level）" aria-hidden="true">#</a></h5><p>经验值上限。<code>int[0~999]</code></p><p>当经验超过这个值时，训练的效果（经验）会增加。</p><h5 id="ejac" tabindex="-1">EJAC <a class="header-anchor" href="#ejac" aria-hidden="true">#</a></h5><p>你懂的。<code>int</code></p><p>为了方便，单独拿出来的一个变量。</p><h4 id="标志" tabindex="-1">标志 <a class="header-anchor" href="#标志" aria-hidden="true">#</a></h4><h5 id="flag" tabindex="-1">FLAG <a class="header-anchor" href="#flag" aria-hidden="true">#</a></h5><p>标志。<code>int[0~9999]</code></p><h5 id="tflag（temporary-flag）" tabindex="-1">TFLAG（Temporary Flag） <a class="header-anchor" href="#tflag（temporary-flag）" aria-hidden="true">#</a></h5><p>临时标志。<code>int[0~999]</code></p><p>用于储存临时状态或是训练状态。比FLAG更临时。</p><h4 id="角色数据" tabindex="-1">角色数据 <a class="header-anchor" href="#角色数据" aria-hidden="true">#</a></h4><p>大部分变量是二维数组。如<code>EXP:1:2</code>代表第1个角色的第2种经验。</p><p>但有一种缩写，如<code>EXP:0</code>，代表<code>EXP:TARGET:0</code>，即训练对象的第0种经验。</p><h5 id="no" tabindex="-1">NO <a class="header-anchor" href="#no" aria-hidden="true">#</a></h5><p>角色编号。<code>int[0~99]</code></p><p>它不是一个二维数组，所以你可以用<code>NO:TARGET</code>或<code>NO:ASSI</code>来访问它。</p><h5 id="base" tabindex="-1">BASE <a class="header-anchor" href="#base" aria-hidden="true">#</a></h5><p>角色基本参数。<code>int[int[]]0~99</code></p><p>在实例游戏中，<code>BASE:0</code>代表体力，<code>BASE:1</code>代表精力。</p><h5 id="maxbase" tabindex="-1">MAXBASE <a class="header-anchor" href="#maxbase" aria-hidden="true">#</a></h5><p>角色基本参数上限。<code>int[int[]]0~99</code></p><h5 id="abl" tabindex="-1">ABL <a class="header-anchor" href="#abl" aria-hidden="true">#</a></h5><p>角色能力。<code>int[int[]]0~99</code></p><p>在<code>ABL.CSV</code>中注册的能力编号。</p><h5 id="talent" tabindex="-1">TALENT <a class="header-anchor" href="#talent" aria-hidden="true">#</a></h5><p>角色素质。<code>int[int[]]0~999</code></p><p>在<code>TALENT.CSV</code>中注册的素质编号。</p><h5 id="exp" tabindex="-1">EXP <a class="header-anchor" href="#exp" aria-hidden="true">#</a></h5><p>角色经验。<code>int[int[]]0~99</code></p><p>在<code>EXP.CSV</code>中注册的经验编号。</p><h5 id="mark" tabindex="-1">MARK <a class="header-anchor" href="#mark" aria-hidden="true">#</a></h5><p>角色刻印。<code>int[int[]]0~99</code></p><p>在<code>MARK.CSV</code>中注册的刻印编号。</p><h5 id="relation" tabindex="-1">RELATION <a class="header-anchor" href="#relation" aria-hidden="true">#</a></h5><p>角色相性。<code>int[int[]]0~99</code></p><p><code>RELATION:TARGET:3</code>指训练中的角色和角色编号为3的角色的相性。而不是注册编号。</p><h5 id="juel" tabindex="-1">JUEL <a class="header-anchor" href="#juel" aria-hidden="true">#</a></h5><p>角色持有的珠。<code>int[int[]]0~199</code></p><p>在<code>PALAM.CSV</code>中注册的珠编号。</p><h5 id="cflag（character-flag）" tabindex="-1">CFLAG（Character Flag） <a class="header-anchor" href="#cflag（character-flag）" aria-hidden="true">#</a></h5><p>角色标志。<code>int[int[]]0~999</code></p><p>角色的各种数据都可保存于此。</p><p><code>CFLAG:0</code>为<code>1</code>的角色会被认为是特殊角色。</p><h5 id="isassi" tabindex="-1">ISASSI <a class="header-anchor" href="#isassi" aria-hidden="true">#</a></h5><p>是否为助手。<code>int[]0~99</code></p><p>如果为<code>0</code>，则不是助手；</p><p>如果为<code>1</code>，则是助手。</p><p>用法：<code>ISASSI:TARGET</code>或<code>ISASSI:ASSI</code>。</p><h5 id="name" tabindex="-1">NAME <a class="header-anchor" href="#name" aria-hidden="true">#</a></h5><p>角色名称。<code>string[]0~99</code></p><p>用法：<code>NAME:TARGET</code>或<code>NAME:ASSI</code>。</p><h5 id="callname" tabindex="-1">CALLNAME <a class="header-anchor" href="#callname" aria-hidden="true">#</a></h5><p>角色称呼。<code>string[]0~99</code></p><p>用法：<code>CALLNAME:TARGET</code>或<code>CALLNAME:ASSI</code>。</p><h5 id="tequip" tabindex="-1">TEQUIP <a class="header-anchor" href="#tequip" aria-hidden="true">#</a></h5><p>角色装备的物品。<code>int[int[]]0~99</code></p><p>可用于判断物品装备情况，也可以用于表现角色强化，或是药剂的使用。</p><h5 id="palam" tabindex="-1">PALAM <a class="header-anchor" href="#palam" aria-hidden="true">#</a></h5><p>角色训练中的参数。<code>int[int[]]0~99</code></p><p>在<code>PALAM.CSV</code>中注册的刻印编号。</p><h5 id="stain" tabindex="-1">STAIN <a class="header-anchor" href="#stain" aria-hidden="true">#</a></h5><p>角色训练中的污渍。<code>int[int[]]0~99</code></p><p>在示例游戏中，<code>STAIN:0</code>指口部污渍；<code>STAIN:1</code>指手部污渍等。</p><h5 id="ex" tabindex="-1">EX <a class="header-anchor" href="#ex" aria-hidden="true">#</a></h5><p>训练中“攀登过几次顶峰”。<code>int[int[]]0~99</code></p><p>在示例游戏中，<code>EX:0</code>为C；<code>EX:1</code>为V；<code>EX:2</code>为A；</p><h5 id="source" tabindex="-1">SOURCE <a class="header-anchor" href="#source" aria-hidden="true">#</a></h5><p>执行训练命令源角色。<code>int[int[]]0~99</code></p><p>参见示例游戏中<code>COM××.ERB</code>和<code>SOURCE.ERB</code>可以看到从训练源到训练参数升高的流程。</p><h5 id="nowex" tabindex="-1">NOWEX <a class="header-anchor" href="#nowex" aria-hidden="true">#</a></h5><p><code>int[int[]]0~99</code></p><h5 id="gotjuel" tabindex="-1">GOTJUEL <a class="header-anchor" href="#gotjuel" aria-hidden="true">#</a></h5><p><code>int[int[]]0~99</code></p><h4 id="物品数据" tabindex="-1">物品数据 <a class="header-anchor" href="#物品数据" aria-hidden="true">#</a></h4><h4 id="名称数据" tabindex="-1">名称数据 <a class="header-anchor" href="#名称数据" aria-hidden="true">#</a></h4><h4 id="字符串数据" tabindex="-1">字符串数据 <a class="header-anchor" href="#字符串数据" aria-hidden="true">#</a></h4><h4 id="随机数据" tabindex="-1">随机数据 <a class="header-anchor" href="#随机数据" aria-hidden="true">#</a></h4><h3 id="角色注册编号" tabindex="-1">角色注册编号 <a class="header-anchor" href="#角色注册编号" aria-hidden="true">#</a></h3><h4 id="角色注册编号与角色编号的异同" tabindex="-1">角色注册编号与角色编号的异同 <a class="header-anchor" href="#角色注册编号与角色编号的异同" aria-hidden="true">#</a></h4><h3 id="关于污渍" tabindex="-1">关于污渍 <a class="header-anchor" href="#关于污渍" aria-hidden="true">#</a></h3><h4 id="污渍数据的特殊性" tabindex="-1">污渍数据的特殊性 <a class="header-anchor" href="#污渍数据的特殊性" aria-hidden="true">#</a></h4><h5 id="污渍数据的种类" tabindex="-1">污渍数据的种类 <a class="header-anchor" href="#污渍数据的种类" aria-hidden="true">#</a></h5><h5 id="污渍数据的表示方法" tabindex="-1">污渍数据的表示方法 <a class="header-anchor" href="#污渍数据的表示方法" aria-hidden="true">#</a></h5><div align="right"><a href="#§1 EraMaker之章 Chapter of EraMaker">§</a> <a href="#Emuera 中文文档（第一版）">TOP</a></div><h1 id="§2-emuera之章-chapter-of-emuera" tabindex="-1">§2 Emuera之章 Chapter of Emuera <a class="header-anchor" href="#§2-emuera之章-chapter-of-emuera" aria-hidden="true">#</a></h1><p>从历史上看，Emuera是对EraMaker引擎的重做。</p><div align="right"><a href="#§1 EraMaker之章 Chapter of EraMaker">§</a> <a href="#Emuera 中文文档（第一版）">TOP</a></div><h2 id="eramaker" tabindex="-1">EraMaker <a class="header-anchor" href="#eramaker" aria-hidden="true">#</a></h2><h3 id="erabasic-的结构" tabindex="-1"><a href="./.html">EraBasic 的结构</a> <a class="header-anchor" href="#erabasic-的结构" aria-hidden="true">#</a></h3><blockquote><p><a href="http://cbaku.com/b/erakanon/eramaerc.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramaerc.html</a></p></blockquote><h3 id="csv-文件语法" tabindex="-1"><a href="./.html">CSV 文件语法</a> <a class="header-anchor" href="#csv-文件语法" aria-hidden="true">#</a></h3><blockquote><p><a href="http://cbaku.com/b/erakanon/eramacsv.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramacsv.html</a></p></blockquote><h3 id="erb-文件语法" tabindex="-1"><a href="./.html">ERB 文件语法</a> <a class="header-anchor" href="#erb-文件语法" aria-hidden="true">#</a></h3><blockquote><p><a href="http://cbaku.com/b/erakanon/eramaerb.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramaerb.html</a></p></blockquote><h3 id="erabasic-变量列表" tabindex="-1"><a href="./.html">EraBasic 变量列表</a> <a class="header-anchor" href="#erabasic-变量列表" aria-hidden="true">#</a></h3><blockquote><p><a href="http://cbaku.com/b/erakanon/eramavar.html" target="_blank" rel="noopener noreferrer">http://cbaku.com/b/erakanon/eramavar.html</a></p></blockquote><h2 id="emuera" tabindex="-1">Emuera <a class="header-anchor" href="#emuera" aria-hidden="true">#</a></h2><h3 id="词汇表" tabindex="-1"><a href="./.html">词汇表</a> <a class="header-anchor" href="#词汇表" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/EmuDic" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/EmuDic</a></p></blockquote><h3 id="调试命令" tabindex="-1"><a href="./.html">调试命令</a> <a class="header-anchor" href="#调试命令" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/debugcom" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/debugcom</a></p></blockquote><h3 id="调试模式" tabindex="-1"><a href="./.html">调试模式</a> <a class="header-anchor" href="#调试模式" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/debug" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/debug</a></p></blockquote><h3 id="replace-csv" tabindex="-1"><a href="./.html">_replace.csv</a> <a class="header-anchor" href="#replace-csv" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/replace" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/replace</a></p></blockquote><h3 id="配置文件" tabindex="-1"><a href="./.html">配置文件</a> <a class="header-anchor" href="#配置文件" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exconfig" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exconfig</a></p></blockquote><h3 id="运行流程" tabindex="-1"><a href="./.html">运行流程</a> <a class="header-anchor" href="#运行流程" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/flow" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/flow</a></p></blockquote><h3 id="与eramaker的不同点" tabindex="-1"><a href="./.html">与EraMaker的不同点</a> <a class="header-anchor" href="#与eramaker的不同点" aria-hidden="true">#</a></h3><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/diff" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/diff</a></p></blockquote><h3 id="emuera新增的语法" tabindex="-1">Emuera新增的语法 <a class="header-anchor" href="#emuera新增的语法" aria-hidden="true">#</a></h3><h4 id="常规" tabindex="-1"><a href="./.html">常规</a> <a class="header-anchor" href="#常规" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exetc" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exetc</a></p></blockquote><h4 id="计算" tabindex="-1"><a href="./.html">计算</a> <a class="header-anchor" href="#计算" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exop" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exop</a></p></blockquote><h4 id="常量与变量" tabindex="-1"><a href="./.html">常量与变量</a> <a class="header-anchor" href="#常量与变量" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exvar" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exvar</a></p></blockquote><h4 id="用户定义变量" tabindex="-1"><a href="./.html">用户定义变量</a> <a class="header-anchor" href="#用户定义变量" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/UserVars" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/UserVars</a></p></blockquote><h4 id="命令" tabindex="-1"><a href="./.html">命令</a> <a class="header-anchor" href="#命令" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/excom" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/excom</a></p></blockquote><h4 id="函数与预处理器" tabindex="-1"><a href="./.html">函数与预处理器</a> <a class="header-anchor" href="#函数与预处理器" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exfunc" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exfunc</a></p></blockquote><h4 id="行内函数" tabindex="-1"><a href="./.html">行内函数</a> <a class="header-anchor" href="#行内函数" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exmeth" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exmeth</a></p></blockquote><h4 id="自定义函数" tabindex="-1"><a href="./.html">自定义函数</a> <a class="header-anchor" href="#自定义函数" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/UserMeth" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/UserMeth</a></p></blockquote><h4 id="头文件" tabindex="-1"><a href="./.html">头文件</a> <a class="header-anchor" href="#头文件" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/ERH" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/ERH</a></p></blockquote><h4 id="html-print" tabindex="-1"><a href="./.html">HTML_PRINT</a> <a class="header-anchor" href="#html-print" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/exhtml" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exhtml</a></p></blockquote><h4 id="资源文件" tabindex="-1"><a href="./.html">资源文件</a> <a class="header-anchor" href="#资源文件" aria-hidden="true">#</a></h4><blockquote><p><a href="https://osdn.net/projects/emuera/wiki/resources" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/resources</a></p></blockquote></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"64e80f5f\",\"guide_command documentation.md\":\"8eb88214\",\"guide_language specification.md\":\"be4808c1\",\"guide_menu.md\":\"94db5176\",\"guide_quick start.md\":\"07b2644d\",\"guide_tutorial.md\":\"741461ba\",\"guide_index.md\":\"08046aa3\",\"reference_emuera code analyze.md\":\"1d5b52b2\",\"reference_emuera manual.md\":\"ee692f8e\",\"reference_era series history.md\":\"aaed01b0\",\"reference_erabasic api reference.md\":\"165f00df\",\"reference_erabasic manual.md\":\"c185b422\",\"reference_erabasic quick start.md\":\"fe040443\",\"reference_erabasic tutorial.md\":\"9ac09ed2\",\"reference_eramaker basic manual.md\":\"78f7e633\",\"reference_eramaker manual.md\":\"27d7b4e1\",\"reference_menu.md\":\"ef4c3980\",\"reference_player manual.md\":\"2d02a3ce\",\"reference_index.md\":\"cdfdb152\",\"translation_csv_file_format.md\":\"91ea92d5\",\"translation_configs.md\":\"b5f4bcd8\",\"translation_debug_commands.md\":\"e3bf6561\",\"translation_debug_modes.md\":\"737ee81c\",\"translation_difference.md\":\"3f7c8bbe\",\"translation_erb_file_format.md\":\"a1717744\",\"translation_emuera_dictionary.md\":\"6521878b\",\"translation_erabasic_structure.md\":\"cf73b746\",\"translation_erabasic_variables.md\":\"df22f749\",\"translation_flow.md\":\"6d4978af\",\"translation_new_features.md\":\"f8825689\",\"translation_replace_csv.md\":\"a12a563a\",\"translation_index.md\":\"e9dd7219\"}")</script>
    <script type="module" async src="/Emuera-Chinese-Document/assets/app.c45c263d.js"></script>
  </body>
</html>